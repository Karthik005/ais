\documentclass[12pt]{article}

\usepackage{enumerate}
\usepackage{algorithm}
\usepackage{algorithmicx}
% \usepackage[noend]{algpseudocode}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{pstricks}    %for embedding pspicture.
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{algpseudocode}


%-------------list of macros for this scribe-----------------
 \newcommand{\Sen}{\ensuremath{\bf S}}
 \def\NoNumber#1{{\def\alglinenumber##1{}\State #1}\addtocounter{ALG@line}{-1}}
 \newcommand{\n}{\ensuremath{\mathcal n}}
 \newcommand{\Con}{\ensuremath{\mid\mid}}
 \newcommand{\Com}{\newline \Comment}
  \newcommand{\Rec}{\ensuremath{\bf R}}
  \newcommand{\Adv}{\ensuremath{\mathcal A}}
    \newcommand{\Gen}{\ensuremath{\mathsf Gen}}
       \newcommand{\Enc}{\ensuremath{\mathsf Enc}}
       \newcommand{\Dec}{\ensuremath{\mathsf Dec}}
           \newcommand{\Key}{\ensuremath{\mathsf k}}
  \newcommand{\Message}{\ensuremath{\mathsf m}}
    \newcommand{\Cipher}{\ensuremath{\mathsf c}}
       \newcommand{\MSpace}{\ensuremath{\mathcal M}}
          \newcommand{\KSpace}{\ensuremath{\mathcal K}}
          \newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
            \newcommand{\CSpace}{\ensuremath{\mathcal C}}



\begin{document}
\begin{algorithm}[H]
\caption{ARTIS(Aff\_func, high\_val, threshold)}
\begin{algorithmic}[1]
\State Generate $D=\{d_1,d_2,.....,d_n\}$, $d_i\in \{0,1\}^n$.
\State Initialize $C=\{c_i = 0|i\in [1,n]\}$, $M=\{\}$
\newline \Comment Tolerization
\For {$self\_ag$ in $self\_ags$}
\For {$d_i$ in $D$}
\If {$Aff\_func(self\_ag, d_i)\geq high\_val$}
\State Replace $d_i$ with new random detector
\EndIf
\EndFor
\EndFor
\While{(1)}
\newline \Comment Match antigen $Ag$ with $d_i$ for $d_i\in D$
\For {$d_i$ in $D$}
\If {$Aff\_func(Ag, d_i)\geq high\_val$}
\State Raise intrusion flag for $Ag$
\State Increment counter $c_i+=1$
\If {$c_i>=threshold$}
\State	Append $d_i$ to $M$
\EndIf
\EndIf
\EndFor
\EndWhile
\State return $M$

\end{algorithmic}
\end{algorithm}

\end{document}
